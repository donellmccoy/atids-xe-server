query FileReferences
(
  $fileReferences_first: PaginationAmount!,
  $chainOfTitles_first:PaginationAmount!,
  $chainOfTitleItems_first:PaginationAmount!,
  $chainOfTitleSearches_first:PaginationAmount!
) 
{
  fileReferenceResult: fileReferences(first: $fileReferences_first, where: {name_contains: "dap"}) {
    totalCount
    pageInfo {
      ...pageInfoFields
    }
    fileReferences: nodes {
      name
      fileReferenceId
      defaultGeographicLocaleId
      branchLocationId
      fileStatusId
      createDate
      updateDate
      workerId
      isTemporaryFile
      titleSearchOrigination {
        titleEventId
        titleSearchOriginationId
        orderDate
        orderReference
        fileReferenceId
      }
      chainOfTitleResult: chainOfTitles(first: $chainOfTitles_first) {
        totalCount
        pageInfo {
          ...pageInfoFields
        }
        chainOfTitles: nodes {
          chainOfTitleId
          fileReferenceId
          chainOfTitleItemResult: chainOfTitleItems(first: $chainOfTitleItems_first) {
            totalCount
            pageInfo {
              ...pageInfoFields
            }
            chainOfTitleItems: nodes {
              chainOfTitleItemId
              chainOfTitleId
              chainOfTitleCategoryId
              orderIndex
              parentTitleEventId
              startingTitleEvent
              titleEventId
              userModified
            }
          }
          chainOfTitleSearchResult: chainOfTitleSearches(first: $chainOfTitleSearches_first) {
            totalCount
            pageInfo {
              ...pageInfoFields
            }
            chainOfTitleSearches: nodes {
              chainOfTitleId
              searchId
            }
          }
          chainOfTitleNoteResult: chainOfTitleNotes(first: 10) {
            totalCount
            pageInfo {
              ...pageInfoFields
            }
            chainOfTitleNotes: nodes {
              chainOfTitleNotesId
              chainOfTitleNotesId
              userId
              message
              timeStamp
            }
          }
        }
      }
      fileReferenceNoteResult: fileReferenceNotes(first: 2) {
        totalCount
        pageInfo {
          ...pageInfoFields
        }
        fileReferenceNotes: nodes {
          fileReferenceId
          fileReferenceNotesId
          message
          userId
          timeStamp
        }
      }
      worksheet {
        worksheetId
        fileReferenceId
        worksheetItemResult: worksheetItems(first: 2) {
          totalCount
          pageInfo {
            ...pageInfoFields
          }
          worksheetItems: nodes {
            titleEventId
            worksheetId
            sequence
          }
        }
      }
      searchResults: searches(first: 2) {
        totalCount
        pageInfo {
          ...pageInfoFields
        }
        searches: nodes {
          searchId
          fileReferenceId
          searchTypeId
          searchThruDate
          searchFromDate
          searchStatusId
          geographicLocaleId
          geographicCertRangeId
          geographicLocaleId
          parentSearchId
          instrumentFilters
          lrsSearch
          inclMortgageeShortForm
          hidden
          geographicLocale {
            geographicLocaleId
            geographicLocaleTypeId
            localeName
            localeAbbreviation
            parentGeographicLocaleId
          }
          geographicCertRange {
            certificationRangeId
            fromDate
            fromOrDocumentId
            toDate
            toOrDocumentId
          }
          giCertRange {
            certificationRangeId
            fromDate
            fromOrDocumentId
            toDate
            toOrDocumentId
          }
          grantorCertRange {
            certificationRangeId
            fromDate
            fromOrDocumentId
            toDate
            toOrDocumentId
          }
          parentSearch {
            searchId
            fileReferenceId
          }
          inverseParentSearch {
            searchId
          }
          chainOfTitleSearchResult: chainOfTitleSearches(first: 2) {
            totalCount
            pageInfo {
              ...pageInfoFields
            }
            chainOfTitleSearches: nodes {
              chainOfTitleId
              searchId
            }
          }
          searchNoteResult: searchNotes(first: 2) {
            totalCount
            pageInfo {
              ...pageInfoFields
            }
            searchNotes: nodes {
              searchNotesId
              searchId
              userId
              message
              timeStamp
            }
          }
        }
      }
    }
  }
}

fragment pageInfoFields on PageInfo {
  startCursor
  endCursor
  hasPreviousPage
  hasNextPage
}
